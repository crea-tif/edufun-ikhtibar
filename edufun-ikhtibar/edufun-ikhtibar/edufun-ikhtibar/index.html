<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>EDUFUN â€¢ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø­Ø³Ù†Ù‰</title>
<style>
:root{
  --ink:#0f172a; --accent:#1f7ae0; --ok:#16a34a; --warn:#f59e0b; --err:#e63946;
  --glass: rgba(255,255,255,0.88);
}
html,body{height:100%}
body{
  margin:0; color:var(--ink);
  font-family:system-ui,-apple-system,"Noto Kufi Arabic","Cairo",Tahoma,Arial;
  background: linear-gradient(35deg,#55c6ff 0%, #1f7ae0 100%) fixed;
}
body::before{
  content:""; position:fixed; inset:0; z-index:-2;
  background:url('assets/edufun-bg.png') center/cover no-repeat;
  filter:saturate(108%) contrast(110%);
}
body::after{
  content:""; position:fixed; inset:auto 0 16px 16px; width:160px; height:70px; z-index:-1;
  background:url("edufun-logo.png") no-repeat left/contain;
  opacity:.10; pointer-events:none;
}
header,.card{
  background:var(--glass);
  backdrop-filter: blur(10px);
  border:1px solid rgba(255,255,255,0.6);
  border-radius:18px;
  box-shadow:0 10px 30px rgba(31,122,224,.18);
}
.wrap{max-width:920px;margin:auto;padding:12px}
header{position:sticky;top:0;z-index:5;margin-bottom:12px}
.brandbar{display:flex;align-items:center;gap:12px}
.brand{height:56px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.16))}
@media (max-width:520px){.brand{height:48px}}
h1{margin:0;font-size:22px}

.controls{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px;align-items:center}
button,select{padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,0.65);background:#fff;font-size:14px}
button.primary{background:#1f7ae0;border-color:#1f7ae0;color:#fff;box-shadow:0 6px 16px rgba(31,122,224,.25)}
button.flat{background:#f8fbff}
.stat{margin-inline-start:auto;font-size:13px;opacity:.9;display:flex;gap:10px;align-items:center}
.hearts{display:inline-flex;gap:4px}
.heart{font-size:18px;opacity:.35}
.heart.alive{opacity:1}

main .wrap{display:grid;grid-template-columns:1fr;gap:12px}
.card{padding:18px}
.q-title{font-size:clamp(18px,4.8vw,22px);margin:0 0 8px}
.name{font-size:clamp(28px,8vw,40px);font-weight:800;color:#0b3a8b;margin:6px 0 10px}
.progressbar{height:10px;background:#e7f0ff;border-radius:999px;overflow:hidden;margin:8px 0 14px;border:1px solid #e5eefc}
.progressbar>i{display:block;height:100%;width:0;background:linear-gradient(90deg,#53b3ff,#1f7ae0);transition:width .3s}
.options{display:grid;gap:10px;margin-top:6px}
.option{padding:14px;border-radius:14px;border:1px solid #e5eefc;background:#fff;text-align:right;font-size:16px}
.option.correct{background:#e8f7ee;border-color:#b7e3c8}
.option.wrong{background:#ffe8e8;border-color:#ffd1d1}
.meta{display:flex;gap:8px;align-items:center;margin-top:10px}
.meta .score{font-weight:700}
.result{margin-top:10px;min-height:24px;font-size:14px}
.footer{font-size:12px;color:#eef6ff;margin-top:6px;text-shadow:0 1px 2px rgba(0,0,0,.2);text-align:center}
.actions{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:10px}
.hide{display:none}
.center{text-align:center}
.big{font-size:clamp(20px,5.2vw,28px)}
</style>

<link rel="manifest" href="manifest.webmanifest">
<meta name="theme-color" content="#1f7ae0">
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('./sw.js');
  });
}
</script>

</head>
<body>
<header>
  <div class="wrap">
    <div class="brandbar">
      <img class="brand" src="assets/edufun-logo.png" alt="EDUFUN">
      <h1>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø­Ø³Ù†Ù‰</h1>
    </div>
    <div class="controls">
      <button id="btnSpeak" class="flat">ğŸ”Š Ø§Ø³ØªÙ…Ø¹</button>
      <button id="btnShuffle" class="flat">Ø®Ù„Ø·</button>
      <button id="btnRestart" class="primary">Ø¨Ø¯Ø¡ Ø¬ÙˆÙ„Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
      <div class="stat">
        <div class="hearts" id="hearts">
          <span class="heart alive">â¤</span>
          <span class="heart alive">â¤</span>
          <span class="heart alive">â¤</span>
        </div>
        <span>Ø§Ù„Ù†Ù‚Ø§Ø·: <b id="score">0</b></span>
      </div>
    </div>
  </div>
</header>

<main>
  <div class="wrap">
    <section class="card" id="panelQuiz">
      <div class="progressbar"><i id="bar"></i></div>
      <h3 class="q-title" id="qTitle">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¹Ù†Ù‰ Ø§Ù„ØµØ­ÙŠØ­ Ù„Ù„Ø§Ø³Ù…:</h3>
      <div class="name" id="qName">Ø§Ù„Ù„Ù‡</div>
      <div class="options" id="options"></div>
      <div class="meta">
        <span>Ø§Ù„Ø³Ø¤Ø§Ù„ <b id="nIdx">1</b> / <b id="nTotal">10</b></span>
        <span class="score">â€¢ Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score2">0</span></span>
      </div>
      <div class="result" id="qResult"></div>
    </section>

    <section class="card center hide" id="panelEnd">
      <div class="big" id="endTitle">Ø£Ø­Ø³Ù†Øª! âœ…</div>
      <p id="endMsg">Ù†ØªÙŠØ¬ØªÙƒ 10 / 10 â€” Ø±Ø§Ø¦Ø¹!</p>
      <div class="actions">
        <button class="primary" id="playAgain">Ø¬ÙˆÙ„Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
        <button class="flat" id="reviewWrong">Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡</button>
      </div>
    </section>

    <div class="footer">EDUFUN â€¢ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ ÙˆØ§Ù„Ø­Ø§Ø³ÙˆØ¨ â€¢ 10 Ø£Ø³Ø¦Ù„Ø© Ù„ÙƒÙ„ Ø¬ÙˆÙ„Ø©</div>
  </div>
</main>

<script>
/* Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ù…Ø¹ Ù…Ø¹Ø§Ù†ÙŠ Ù…ÙˆØ¬Ø²Ø© (Ù†ÙØ³ Ù…ØµØ¯Ø± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª) */
const DATA=[
{n:"Ø§Ù„Ù„Ù‡",m:"Ø§Ø³Ù… Ø§Ù„Ø¬Ù„Ø§Ù„Ø©ØŒ Ø§Ù„Ù…Ø¹Ø¨ÙˆØ¯ Ø¨Ø­Ù‚ØŒ Ø§Ù„Ø¬Ø§Ù…Ø¹ Ù„ØµÙØ§Øª Ø§Ù„ÙƒÙ…Ø§Ù„."},
{n:"Ø§Ù„Ø±Ø­Ù…Ù†",m:"ÙƒØ«ÙŠØ± Ø§Ù„Ø±Ø­Ù…Ø© ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ ÙˆØ§Ù„Ø¢Ø®Ø±Ø©ØŒ Ø±Ø­Ù…Ø©Ù‹ Ø¹Ø§Ù…Ø©Ù‹ Ø¨ÙƒÙ„ Ø®Ù„Ù‚Ù‡."},
{n:"Ø§Ù„Ø±Ø­ÙŠÙ…",m:"ÙŠØ®ØµÙ‘ Ø£ÙˆÙ„ÙŠØ§Ø¡Ù‡ Ø¨Ø§Ù„Ù…ØºÙØ±Ø© ÙˆØ§Ù„Ø±Ø­Ù…Ø© ÙÙŠ Ø§Ù„Ø¢Ø®Ø±Ø©."},
{n:"Ø§Ù„Ù…Ù„Ùƒ",m:"Ø§Ù„Ù…Ø§Ù„Ùƒ Ù„ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø§Ù„Ù…ØªØµØ±Ù ÙÙŠ Ù…Ù„ÙƒÙ‡ ÙƒÙŠÙ ÙŠØ´Ø§Ø¡."},
{n:"Ø§Ù„Ù‚Ø¯ÙˆØ³",m:"Ø§Ù„Ù…Ù†Ø²Ù‘Ù‡ Ø¹Ù† ÙƒÙ„ Ù†Ù‚Øµ ÙˆØ¹ÙŠØ¨."},
{n:"Ø§Ù„Ø³Ù„Ø§Ù…",m:"Ø§Ù„Ø³Ø§Ù„Ù… Ù…Ù† ÙƒÙ„ Ù†Ù‚ØµØŒ ÙˆÙ…Ø§Ù†Ø­ Ø§Ù„Ø³Ù„Ø§Ù… Ù„Ø¹Ø¨Ø§Ø¯Ù‡."},
{n:"Ø§Ù„Ù…Ø¤Ù…Ù†",m:"Ø§Ù„Ù…ØµØ¯Ù‘ÙÙ‚ Ø±Ø³Ù„Ù‡ØŒ Ø§Ù„Ù…Ø¤Ù…Ù‘ÙÙ† Ù„Ø¹Ø¨Ø§Ø¯Ù‡ Ù…Ù† Ø§Ù„Ø®ÙˆÙ."},
{n:"Ø§Ù„Ù…Ù‡ÙŠÙ…Ù†",m:"Ø§Ù„Ø±Ù‚ÙŠØ¨ Ø§Ù„Ø´Ù‡ÙŠØ¯ Ø¹Ù„Ù‰ Ø¹Ø¨Ø§Ø¯Ù‡ØŒ Ø§Ù„Ù‚Ø§Ø¦Ù… Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡."},
{n:"Ø§Ù„Ø¹Ø²ÙŠØ²",m:"Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠÙØºÙ„Ø¨ ÙˆÙ„Ø§ ÙŠÙÙ‚Ù‡Ø±."},
{n:"Ø§Ù„Ø¬Ø¨Ø§Ø±",m:"Ø§Ù„Ø¹Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø§Ù‡Ø±ØŒ ÙˆØ¬Ø§Ø¨Ø± ÙƒØ³Ø± Ø§Ù„Ø¶Ø¹ÙØ§Ø¡."},
{n:"Ø§Ù„Ù…ØªÙƒØ¨Ø±",m:"Ø§Ù„Ù…ØªØ¹Ø§Ù„ÙŠ Ø¹Ù† ØµÙØ§Øª Ø§Ù„Ù…Ø®Ù„ÙˆÙ‚ÙŠÙ†."},
{n:"Ø§Ù„Ø®Ø§Ù„Ù‚",m:"Ù…Ù‚Ø¯Ù‘ÙØ± Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ ÙˆÙ…Ø¨Ø¯Ø¹Ù‡Ø§ Ø¹Ù„Ù‰ ØºÙŠØ± Ù…Ø«Ø§Ù„ Ø³Ø§Ø¨Ù‚."},
{n:"Ø§Ù„Ø¨Ø§Ø±Ø¦",m:"Ø®Ø§Ù„Ù‚ Ø§Ù„Ø®Ù„Ù‚ Ù…Ù…ÙŠÙ‘ÙØ²Ù‹Ø§ Ø¨Ø¹Ø¶Ù‡Ù… Ø¹Ù† Ø¨Ø¹Ø¶."},
{n:"Ø§Ù„Ù…ØµÙˆØ±",m:"Ù…ÙØ¹Ø·ÙŠ ÙƒÙ„ Ù…Ø®Ù„ÙˆÙ‚ ØµÙˆØ±ØªÙ‡."},
{n:"Ø§Ù„ØºÙØ§Ø±",m:"ÙƒØ«ÙŠØ± Ø§Ù„Ù…ØºÙØ±Ø© Ù„Ø¹Ø¨Ø§Ø¯Ù‡ Ù…Ø¹ Ø³ØªØ± Ø§Ù„Ø°Ù†Ø¨."},
{n:"Ø§Ù„Ù‚Ù‡Ø§Ø±",m:"Ø§Ù„Ù‚Ø§Ù‡Ø± ÙÙˆÙ‚ Ø¹Ø¨Ø§Ø¯Ù‡."},
{n:"Ø§Ù„ÙˆÙ‡Ø§Ø¨",m:"Ø§Ù„Ø°ÙŠ ÙŠØ¹Ø·ÙŠ Ø¨ØºÙŠØ± Ø¹ÙˆØ¶."},
{n:"Ø§Ù„Ø±Ø²Ø§Ù‚",m:"Ø§Ù„Ø°ÙŠ ÙŠØ±Ø²Ù‚ Ø¹Ø¨Ø§Ø¯Ù‡ Ø¬Ù…ÙŠØ¹Ù‹Ø§."},
{n:"Ø§Ù„ÙØªØ§Ø­",m:"Ø§Ù„Ø°ÙŠ ÙŠÙØªØ­ Ø§Ù„Ø±Ø­Ù…Ø© ÙˆØ§Ù„Ø±Ø²Ù‚ ÙˆÙŠØ­ÙƒÙ… Ø¨Ø§Ù„Ø­Ù‚."},
{n:"Ø§Ù„Ø¹Ù„ÙŠÙ…",m:"Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨ÙƒÙ„ Ø´ÙŠØ¡."},
{n:"Ø§Ù„Ù‚Ø§Ø¨Ø¶",m:"Ø§Ù„Ù‚Ø§Ø¨Ø¶ Ù„Ù„Ø£Ø±Ø²Ø§Ù‚ ÙˆØ§Ù„Ø£Ù†ÙØ§Ø³ Ø¨Ø­ÙƒÙ…ØªÙ‡."},
{n:"Ø§Ù„Ø¨Ø§Ø³Ø·",m:"Ø§Ù„Ø°ÙŠ ÙŠØ¨Ø³Ø· Ø§Ù„Ø±Ø²Ù‚ ÙˆØ§Ù„Ø±Ø­Ù…Ø©."},
{n:"Ø§Ù„Ø®Ø§ÙØ¶",m:"ÙŠØ®ÙØ¶ Ø£Ù‡Ù„ Ø§Ù„Ø¨Ø§Ø·Ù„."},
{n:"Ø§Ù„Ø±Ø§ÙØ¹",m:"ÙŠØ±ÙØ¹ Ø£Ù‡Ù„ Ø§Ù„Ø­Ù‚."},
{n:"Ø§Ù„Ù…Ø¹Ø²",m:"Ø§Ù„Ù…Ø¹Ø² Ù„Ù…Ù† ÙŠØ´Ø§Ø¡."},
{n:"Ø§Ù„Ù…Ø°Ù„",m:"Ø§Ù„Ù…Ø°Ù„ Ù„Ù…Ù† ÙŠØ´Ø§Ø¡."},
{n:"Ø§Ù„Ø³Ù…ÙŠØ¹",m:"Ø§Ù„Ø°ÙŠ ÙŠØ³Ù…Ø¹ Ø§Ù„Ø³Ø± ÙˆØ§Ù„Ù†Ø¬ÙˆÙ‰."},
{n:"Ø§Ù„Ø¨ØµÙŠØ±",m:"ÙŠØ¨ØµØ± ÙƒÙ„ Ø´ÙŠØ¡ Ø¸Ø§Ù‡Ø±Ù‹Ø§ ÙˆØ¨Ø§Ø·Ù†Ù‹Ø§."},
{n:"Ø§Ù„Ø­ÙƒÙ…",m:"Ø§Ù„Ø­Ø§ÙƒÙ… Ø¨ÙŠÙ† Ø¹Ø¨Ø§Ø¯Ù‡ Ø¨Ø§Ù„Ù‚Ø³Ø·."},
{n:"Ø§Ù„Ø¹Ø¯Ù„",m:"Ø§Ù„Ù…Ù‚ÙŠÙ… Ù„Ù„Ø¹Ø¯Ù„ØŒ Ø§Ù„Ù…Ù†Ø²Ù‘Ù‡ Ø¹Ù† Ø§Ù„Ø¸Ù„Ù…."},
{n:"Ø§Ù„Ù„Ø·ÙŠÙ",m:"Ø§Ù„Ø±ÙÙŠÙ‚ Ø¨Ø¹Ø¨Ø§Ø¯Ù‡ØŒ ÙŠÙÙˆØµÙ„ Ø§Ù„Ø®ÙŠØ± Ø¨Ù„Ø·Ù."},
{n:"Ø§Ù„Ø®Ø¨ÙŠØ±",m:"Ø§Ù„Ø¹Ù„ÙŠÙ… Ø¨Ø¨ÙˆØ§Ø·Ù† Ø§Ù„Ø£Ù…ÙˆØ±."},
{n:"Ø§Ù„Ø­Ù„ÙŠÙ…",m:"Ù„Ø§ ÙŠØ¹Ø¬Ù„ Ù…Ø¹ Ù‚Ø¯Ø±ØªÙ‡."},
{n:"Ø§Ù„Ø¹Ø¸ÙŠÙ…",m:"Ø¹Ø¸ÙŠÙ… Ø§Ù„Ø°Ø§Øª ÙˆØ§Ù„ØµÙØ§Øª."},
{n:"Ø§Ù„ØºÙÙˆØ±",m:"ÙŠØºÙØ± Ø§Ù„Ø°Ù†ÙˆØ¨ Ø¬Ù…ÙŠØ¹Ù‹Ø§ Ù„Ù…Ù† ØªØ§Ø¨."},
{n:"Ø§Ù„Ø´ÙƒÙˆØ±",m:"ÙŠØ¬Ø²ÙŠ Ø§Ù„Ù‚Ù„ÙŠÙ„ Ø¨ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø«ÙˆØ§Ø¨."},
{n:"Ø§Ù„Ø¹Ù„ÙŠ",m:"Ø§Ù„Ù…Ø±ØªÙØ¹ Ù‚Ø¯Ø±Ù‹Ø§ ÙˆÙ‚Ù‡Ø±Ù‹Ø§."},
{n:"Ø§Ù„ÙƒØ¨ÙŠØ±",m:"Ø¬Ù„Ù‘ Ù‚Ø¯Ø±Ù‡ØŒ ÙˆÙƒÙ„ Ø´ÙŠØ¡ Ø¯ÙˆÙ†Ù‡ ØµØºÙŠØ±."},
{n:"Ø§Ù„Ø­ÙÙŠØ¸",m:"ÙŠØ­ÙØ¸ Ø®Ù„Ù‚Ù‡ ÙˆØ£Ø¹Ù…Ø§Ù„Ù‡Ù…."},
{n:"Ø§Ù„Ù…Ù‚ÙŠØª",m:"Ø§Ù„Ø±Ø§Ø²Ù‚ Ø§Ù„ÙƒØ§ÙÙŠ Ø§Ù„Ø°ÙŠ ÙŠÙˆØµÙ„ Ø§Ù„Ø£Ù‚ÙˆØ§Øª."},
{n:"Ø§Ù„Ø­Ø³ÙŠØ¨",m:"Ø§Ù„ÙƒØ§ÙÙŠØŒ ÙˆØ§Ù„Ù…Ø­Ø§Ø³ÙØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„."},
{n:"Ø§Ù„Ø¬Ù„ÙŠÙ„",m:"Ø§Ù„Ø¹Ø¸ÙŠÙ… Ø°Ùˆ Ø§Ù„Ø¬Ù„Ø§Ù„ ÙˆØ§Ù„ÙƒÙ…Ø§Ù„."},
{n:"Ø§Ù„ÙƒØ±ÙŠÙ…",m:"Ø§Ù„Ø°ÙŠ ÙŠØ¹Ø·ÙŠ Ø¨Ù„Ø§ Ø­Ø³Ø§Ø¨."},
{n:"Ø§Ù„Ø±Ù‚ÙŠØ¨",m:"Ø§Ù„Ø­Ø§ÙØ¸ Ø§Ù„Ù…Ø±Ø§Ù‚ÙØ¨ Ù„ÙƒÙ„ Ø´ÙŠØ¡."},
{n:"Ø§Ù„Ù…Ø¬ÙŠØ¨",m:"ÙŠØ³ØªØ¬ÙŠØ¨ Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ø¯Ø§Ø¹ÙŠÙ†."},
{n:"Ø§Ù„ÙˆØ§Ø³Ø¹",m:"ÙˆØ³Ø¹ Ø¹Ù„Ù…Ù‡ ÙˆØ±Ø­Ù…ØªÙ‡ ÙƒÙ„ Ø´ÙŠØ¡."},
{n:"Ø§Ù„Ø­ÙƒÙŠÙ…",m:"Ù„Ø§ ÙŠÙØ¹Ù„ Ø¥Ù„Ø§ Ù„Ø­ÙƒÙ…Ø©."},
{n:"Ø§Ù„ÙˆØ¯ÙˆØ¯",m:"Ø§Ù„Ù…Ø­Ø¨Ù‘ Ù„Ø£ÙˆÙ„ÙŠØ§Ø¦Ù‡."},
{n:"Ø§Ù„Ù…Ø¬ÙŠØ¯",m:"Ø§Ù„Ø¹Ø¸ÙŠÙ… Ø§Ù„ÙƒØ±ÙŠÙ… ÙƒØ«ÙŠØ± Ø§Ù„Ø¥Ø­Ø³Ø§Ù†."},
{n:"Ø§Ù„Ø¨Ø§Ø¹Ø«",m:"ÙŠØ¨Ø¹Ø« Ø§Ù„Ø®Ù„Ù‚ ÙˆÙŠØ¨Ø¹Ø« Ø§Ù„Ù‡Ù…Ù… Ù„Ù„Ø·Ø§Ø¹Ø©."},
{n:"Ø§Ù„Ø´Ù‡ÙŠØ¯",m:"Ø§Ù„Ù…Ø·Ù‘Ù„Ø¹ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡."},
{n:"Ø§Ù„Ø­Ù‚",m:"Ø§Ù„ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø«Ø§Ø¨Øª."},
{n:"Ø§Ù„ÙˆÙƒÙŠÙ„",m:"Ø§Ù„ÙƒØ§ÙÙŠ Ø§Ù„Ù…ØªÙƒÙÙ‘Ù„."},
{n:"Ø§Ù„Ù‚ÙˆÙŠ",m:"Ù„Ø§ ÙŠØºØ§Ù„Ø¨Ù‡ ØºØ§Ù„Ø¨."},
{n:"Ø§Ù„Ù…ØªÙŠÙ†",m:"Ø§Ù„Ø«Ø§Ø¨Øª Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠÙ„Ø­Ù‚Ù‡ Ø¥Ø¹ÙŠØ§Ø¡."},
{n:"Ø§Ù„ÙˆÙ„ÙŠ",m:"Ù…ØªÙˆÙ„Ù‘ÙŠ Ø£Ù…ÙˆØ± Ø§Ù„ØµØ§Ù„Ø­ÙŠÙ†."},
{n:"Ø§Ù„Ø­Ù…ÙŠØ¯",m:"Ø§Ù„Ù…Ø­Ù…ÙˆØ¯ Ø¹Ù„Ù‰ ÙƒÙ„ Ø­Ø§Ù„."},
{n:"Ø§Ù„Ù…Ø­ØµÙŠ",m:"Ø£Ø­ØµÙ‰ ÙƒÙ„ Ø´ÙŠØ¡ Ø¹Ø¯Ø¯Ù‹Ø§."},
{n:"Ø§Ù„Ù…Ø¨Ø¯Ø¦",m:"Ø§Ù„Ù…Ø¨ØªØ¯Ø¦ Ù„Ù„Ø®Ù„Ù‚."},
{n:"Ø§Ù„Ù…Ø¹ÙŠØ¯",m:"ÙŠØ¹ÙŠØ¯ Ø§Ù„Ø®Ù„Ù‚ Ø¨Ø¹Ø¯ Ø§Ù„Ù…ÙˆØª."},
{n:"Ø§Ù„Ù…Ø­ÙŠÙŠ",m:"Ù…Ø¹Ø·ÙŠ Ø§Ù„Ø­ÙŠØ§Ø©."},
{n:"Ø§Ù„Ù…Ù…ÙŠØª",m:"Ù‚Ø§Ø¨Ø¶ Ø§Ù„Ø£Ø±ÙˆØ§Ø­ Ø­ÙŠÙ† Ø§Ù„Ø£Ø¬Ù„."},
{n:"Ø§Ù„Ø­ÙŠ",m:"Ù„Ø§ ÙŠÙ…ÙˆØª ÙˆÙ„Ø§ ØªØ£Ø®Ø°Ù‡ Ø³Ù†Ø© ÙˆÙ„Ø§ Ù†ÙˆÙ…."},
{n:"Ø§Ù„Ù‚ÙŠÙˆÙ…",m:"Ø§Ù„Ù‚Ø§Ø¦Ù… Ø¨Ù†ÙØ³Ù‡ Ø§Ù„Ù…Ù‚ÙŠÙ… Ù„ØºÙŠØ±Ù‡."},
{n:"Ø§Ù„ÙˆØ§Ø¬Ø¯",m:"Ø§Ù„ØºÙ†ÙŠ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠÙØªÙ‚Ø±."},
{n:"Ø§Ù„Ù…Ø§Ø¬Ø¯",m:"Ø§Ù„Ø¹Ø¸ÙŠÙ… Ø§Ù„Ù…ÙƒØ±Ù…."},
{n:"Ø§Ù„ÙˆØ§Ø­Ø¯",m:"Ø§Ù„Ù…ØªÙØ±Ø¯ Ø¨Ø§Ù„Ø£Ù„ÙˆÙ‡ÙŠØ©."},
{n:"Ø§Ù„ØµÙ…Ø¯",m:"Ø§Ù„Ø³ÙŠØ¯ Ø§Ù„Ù…Ù‚ØµÙˆØ¯ ÙÙŠ Ø§Ù„Ø­ÙˆØ§Ø¦Ø¬."},
{n:"Ø§Ù„Ù‚Ø§Ø¯Ø±",m:"Ù„Ù‡ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©."},
{n:"Ø§Ù„Ù…Ù‚ØªØ¯Ø±",m:"Ø¨Ø§Ù„Øº Ø§Ù„Ù‚Ø¯Ø±Ø©."},
{n:"Ø§Ù„Ù…Ù‚Ø¯Ù…",m:"ÙŠÙ‚Ø¯Ù‘Ù… Ù…Ù† ÙŠØ´Ø§Ø¡."},
{n:"Ø§Ù„Ù…Ø¤Ø®Ø±",m:"ÙŠØ¤Ø®Ø± Ù…Ù† ÙŠØ´Ø§Ø¡."},
{n:"Ø§Ù„Ø£ÙˆÙ„",m:"Ù„Ø§ Ø´ÙŠØ¡ Ù‚Ø¨Ù„Ù‡."},
{n:"Ø§Ù„Ø¢Ø®Ø±",m:"Ù„Ø§ Ø´ÙŠØ¡ Ø¨Ø¹Ø¯Ù‡."},
{n:"Ø§Ù„Ø¸Ø§Ù‡Ø±",m:"Ø¸Ù‡Ø±Øª Ø¯Ù„Ø§Ø¦Ù„ ÙˆØ¬ÙˆØ¯Ù‡."},
{n:"Ø§Ù„Ø¨Ø§Ø·Ù†",m:"Ø§Ù„Ù…Ø·Ù‘Ù„Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø±Ø§Ø¦Ø±."},
{n:"Ø§Ù„ÙˆØ§Ù„ÙŠ",m:"Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ù…ØªØµØ±Ù."},
{n:"Ø§Ù„Ù…ØªØ¹Ø§Ù„ÙŠ",m:"Ø§Ù„Ù…Ù†Ø²Ù‘Ù‡ Ø¹Ù† Ø§Ù„Ù†Ù‚Øµ."},
{n:"Ø§Ù„Ø¨Ø±",m:"ÙƒØ«ÙŠØ± Ø§Ù„Ø¥Ø­Ø³Ø§Ù†."},
{n:"Ø§Ù„ØªÙˆØ§Ø¨",m:"ÙŠÙ‚Ø¨Ù„ ØªÙˆØ¨Ø© Ø§Ù„ØªØ§Ø¦Ø¨ÙŠÙ†."},
{n:"Ø§Ù„Ù…Ù†ØªÙ‚Ù…",m:"Ø§Ù„Ù…Ø¹Ø§Ù‚ÙØ¨ Ù„Ù„Ù…Ø¬Ø±Ù…ÙŠÙ† Ø¨Ø¹Ø¯Ù„."},
{n:"Ø§Ù„Ø¹ÙÙˆ",m:"ÙŠÙ…Ø­Ùˆ Ø§Ù„Ø°Ù†ÙˆØ¨ ÙˆÙŠØªØ¬Ø§ÙˆØ² Ø¹Ù† Ø§Ù„Ø³ÙŠØ¦Ø§Øª."},
{n:"Ø§Ù„Ø±Ø¤ÙˆÙ",m:"ØºØ§ÙŠØ© Ø§Ù„Ø±Ø­Ù…Ø© ÙˆØ§Ù„Ø±Ø£ÙØ©."},
{n:"Ù…Ø§Ù„Ùƒ Ø§Ù„Ù…Ù„Ùƒ",m:"Ø§Ù„Ù…ØªØµØ±Ù‘Ù ÙÙŠ Ø§Ù„Ù…Ù„Ùƒ."},
{n:"Ø°Ùˆ Ø§Ù„Ø¬Ù„Ø§Ù„ ÙˆØ§Ù„Ø¥ÙƒØ±Ø§Ù…",m:"ØµØ§Ø­Ø¨ Ø§Ù„Ø¹Ø¸Ù…Ø© ÙˆØ§Ù„ÙƒÙ…Ø§Ù„ ÙˆØ§Ù„Ø¥Ù†Ø¹Ø§Ù…."},
{n:"Ø§Ù„Ù…Ù‚Ø³Ø·",m:"Ø§Ù„Ø¹Ø§Ø¯Ù„ Ø§Ù„Ù…Ù†ØµÙÙ."},
{n:"Ø§Ù„Ø¬Ø§Ù…Ø¹",m:"ÙŠØ¬Ù…Ø¹ Ø§Ù„Ø®Ù„Ù‚ Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø³Ø§Ø¨."},
{n:"Ø§Ù„ØºÙ†ÙŠ",m:"Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø£Ø­Ø¯."},
{n:"Ø§Ù„Ù…ØºÙ†ÙŠ",m:"ÙŠØºÙ†ÙŠ Ù…Ù† ÙŠØ´Ø§Ø¡."},
{n:"Ø§Ù„Ù…Ø§Ù†Ø¹",m:"ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø¶Ø± Ø¹Ù…Ù‘Ù† ÙŠØ´Ø§Ø¡."},
{n:"Ø§Ù„Ø¶Ø§Ø±",m:"ÙŠÙ‚Ø¯Ù‘Ø± Ø§Ù„Ø¶Ø± Ø¹Ø¯Ù„Ù‹Ø§ ÙˆØ§Ø¨ØªÙ„Ø§Ø¡Ù‹."},
{n:"Ø§Ù„Ù†Ø§ÙØ¹",m:"ÙŠÙˆØµÙ„ Ø§Ù„Ø®ÙŠØ± Ù„Ø¹Ø¨Ø§Ø¯Ù‡."},
{n:"Ø§Ù„Ù†ÙˆØ±",m:"Ù…Ù†ÙˆÙ‘ÙØ± Ø§Ù„Ù‚Ù„ÙˆØ¨ Ø¨Ø§Ù„Ù‡Ø¯Ù‰."},
{n:"Ø§Ù„Ù‡Ø§Ø¯ÙŠ",m:"ÙŠÙ‡Ø¯ÙŠ Ø¥Ù„Ù‰ Ø§Ù„ØµØ±Ø§Ø· Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ…."},
{n:"Ø§Ù„Ø¨Ø¯ÙŠØ¹",m:"Ø£Ø¨Ø¯Ø¹ Ø§Ù„Ø®Ù„Ù‚ Ø¹Ù„Ù‰ ØºÙŠØ± Ù…Ø«Ø§Ù„."},
{n:"Ø§Ù„Ø¨Ø§Ù‚ÙŠ",m:"Ø§Ù„Ø¯Ø§Ø¦Ù… Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ²ÙˆÙ„."},
{n:"Ø§Ù„ÙˆØ§Ø±Ø«",m:"Ø§Ù„Ø¨Ø§Ù‚ÙŠ Ø¨Ø¹Ø¯ ÙÙ†Ø§Ø¡ Ø§Ù„Ø®Ù„Ù‚."},
{n:"Ø§Ù„Ø±Ø´ÙŠØ¯",m:"Ø§Ù„Ù…Ø±Ø´Ø¯ Ø¥Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ø±Ø´Ø§Ø¯."},
{n:"Ø§Ù„ØµØ¨ÙˆØ±",m:"ÙŠÙ…Ù‡Ù„ ÙˆÙ„Ø§ ÙŠÙ‡Ù…Ù„."}
];

/* Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø© */
const Q_TOTAL = 10;
let order = Array.from(DATA.keys());
let quizOrder = [];       // ÙÙ‡Ø§Ø±Ø³ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø¬ÙˆÙ„Ø©
let idx = 0;              // Ø±Ù‚Ù… Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ (0..Q_TOTAL-1)
let score = 0;
let lives = 3;
let wrongLog = [];        // Ù„Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©

/* Ø¹Ù†Ø§ØµØ± DOM */
const qName = document.getElementById('qName');
const optionsEl = document.getElementById('options');
const qResult = document.getElementById('qResult');
const nIdx = document.getElementById('nIdx');
const nTotal = document.getElementById('nTotal');
const score1 = document.getElementById('score');
const score2 = document.getElementById('score2');
const bar = document.getElementById('bar');
const heartsEl = document.getElementById('hearts');
const panelQuiz = document.getElementById('panelQuiz');
const panelEnd  = document.getElementById('panelEnd');
const endTitle  = document.getElementById('endTitle');
const endMsg    = document.getElementById('endMsg');

/* ØµÙˆØªÙŠØ§Øª Ø¨Ø³ÙŠØ·Ø© */
let actx=null;
function ensureAudio(){ if(!actx){ actx=new (window.AudioContext||window.webkitAudioContext)(); } }
function tone(freq, dur=0.12, type='sine', gain=0.09, when=0){
  ensureAudio(); const t=actx.currentTime+when;
  const osc=actx.createOscillator(), g=actx.createGain();
  osc.type=type; osc.frequency.value=freq;
  g.gain.value=gain; g.gain.setValueAtTime(gain,t); g.gain.exponentialRampToValueAtTime(0.0001,t+dur);
  osc.connect(g).connect(actx.destination); osc.start(t); osc.stop(t+dur);
}
function sRight(){ tone(880,0.10,'triangle',0.11,0); tone(1320,0.12,'triangle',0.09,0.07); }
function sWrong(){ tone(220,0.12,'sawtooth',0.10,0); }
function sWin(){ [660,880,990,1320].forEach((f,i)=>tone(f,0.16,'square',0.10,i*0.08)); confetti(); }

/* ğŸ‰ Ù…Ø¤Ø«Ø± Ø¨ØµØ±ÙŠ */
function confetti(){
  const c=document.createElement('canvas'); c.width=innerWidth; c.height=innerHeight;
  Object.assign(c.style,{position:'fixed',inset:'0',pointerEvents:'none',zIndex:9999});
  document.body.appendChild(c);
  const ctx=c.getContext('2d'), pcs=[], cols=['#ff6b6b','#ffd166','#06d6a0','#1f7ae0','#8338ec'];
  for(let i=0;i<160;i++) pcs.push({x:Math.random()*c.width,y:-20-Math.random()*200,r:6+Math.random()*6,col:cols[(Math.random()*cols.length)|0],vx:-1+Math.random()*2,vy:2+Math.random()*2,rot:Math.random()*Math.PI,vr:(-0.1+Math.random()*0.2)});
  let t=0; (function a(){ ctx.clearRect(0,0,c.width,c.height);
    pcs.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; p.vy+=0.05; p.rot+=p.vr; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot); ctx.fillStyle=p.col; ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r); ctx.restore(); });
    if(t++<180) requestAnimationFrame(a); else c.remove();
  })();
}

/* Ø£Ø¯ÙˆØ§Øª */
function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const r=Math.floor(Math.random()*(i+1)); [arr[i],arr[r]]=[arr[r],arr[i]]; } return arr; }
function pickDistractors(correctIdx, k=3){
  const pool = order.filter(x=>x!==correctIdx);
  shuffle(pool);
  return pool.slice(0,k);
}

/* ÙˆØ§Ø¬Ù‡Ø© */
function drawHearts(){
  heartsEl.innerHTML='';
  for(let i=0;i<3;i++){
    const span=document.createElement('span');
    span.className='heart' + (i<lives?' alive':'');
    span.textContent='â¤';
    heartsEl.appendChild(span);
  }
}

function updateProgress(){
  nIdx.textContent = String(idx+1);
  nTotal.textContent = String(Q_TOTAL);
  score1.textContent = score;
  score2.textContent = score;
  bar.style.width = ((idx)/Q_TOTAL*100).toFixed(1)+'%';
}

/* Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯ */
function buildQuestion(){
  qResult.textContent='';
  const qIdx = quizOrder[idx];
  const item = DATA[qIdx];
  qName.textContent = item.n;

  // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
  const opts = [qIdx, ...pickDistractors(qIdx,3)];
  shuffle(opts);

  optionsEl.innerHTML='';
  opts.forEach(id=>{
    const btn=document.createElement('button');
    btn.className='option';
    btn.textContent = DATA[id].m;
    btn.onclick = ()=>{
      // ØªØ¹Ø·ÙŠÙ„ Ø¨Ù‚ÙŠØ© Ø§Ù„Ø£Ø²Ø±Ø§Ø±
      [...document.querySelectorAll('.option')].forEach(b=>b.disabled=true);
      if(id===qIdx){
        btn.classList.add('correct'); qResult.textContent='Ø£Ø­Ø³Ù†Øª! âœ…'; score+=10; sRight();
      }else{
        btn.classList.add('wrong'); qResult.textContent=`Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© ØªØ®Øµ: Â«${item.n}Â».`; lives=Math.max(0,lives-1); sWrong();
        wrongLog.push({name:item.n, correct:item.m, chosen:DATA[id].m});
      }
      drawHearts();
      setTimeout(nextStep, 800);
    };
    optionsEl.appendChild(btn);
  });

  updateProgress();
}

/* Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ Ø£Ùˆ Ø¥Ù†Ù‡Ø§Ø¡ */
function nextStep(){
  idx++;
  if(lives===0){ return end(false); }
  if(idx>=Q_TOTAL){ return end(true); }
  buildQuestion();
}

/* Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¬ÙˆÙ„Ø© */
function end(win){
  panelQuiz.classList.add('hide');
  panelEnd.classList.remove('hide');
  if(win){ endTitle.textContent='Ø±Ø§Ø¦Ø¹! ğŸ‰'; sWin(); }
  else   { endTitle.textContent='Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª â—'; }
  endMsg.textContent = `Ù†ØªÙŠØ¬ØªÙƒ: ${score} / ${Q_TOTAL*10}` + (wrongLog.length? ` â€” Ø£Ø®Ø·Ø§Ø¡: ${wrongLog.length}`:'');
}

/* Ø¨Ø¯Ø¡ Ø¬ÙˆÙ„Ø© */
function startGame(shuffleSet=true){
  score=0; lives=3; idx=0; wrongLog=[];
  drawHearts();
  if(shuffleSet) shuffle(order);
  quizOrder = order.slice(0,Q_TOTAL);
  panelEnd.classList.add('hide');
  panelQuiz.classList.remove('hide');
  updateProgress();
  buildQuestion();
}

/* Ø£Ø²Ø±Ø§Ø± Ø£Ø¹Ù„Ù‰ */
document.getElementById('btnRestart').onclick = ()=>startGame(true);
document.getElementById('btnShuffle').onclick = ()=>{ shuffle(order); startGame(false); };
document.getElementById('playAgain').onclick = ()=>startGame(true);
document.getElementById('reviewWrong').onclick = ()=>{
  if(!wrongLog.length){ alert('Ù„Ø§ Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¬ÙˆÙ„Ø© ğŸ‘Œ'); return; }
  const msg = wrongLog.map((w,i)=>`${i+1}) Â«${w.name}Â»\nâœ” ${w.correct}\nâœ– ${w.chosen}`).join('\n\n');
  alert(msg);
};
document.getElementById('btnSpeak').onclick = ()=>{
  const u=new SpeechSynthesisUtterance(qName.textContent); u.lang='ar-SA'; u.rate=0.95; speechSynthesis.cancel(); speechSynthesis.speak(u);
};

/* ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ÙŠ */
startGame(true);
</script>
</body>
</html>
